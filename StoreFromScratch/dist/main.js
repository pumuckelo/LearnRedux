!function(e){var t={};function o(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";o.r(t);var r=new class{generateId(){return"_"+Math.random().toString(36).substring(2,9)}createRemoveButton(e){const t=document.createElement("button");return t.innerHTML="X",t.style.padding="0.5rem 0.7rem",t.style.margin="0.5rem",t.style.borderRadius="12px",t.style.border="none",t.style.cursor="pointer",t.style.backgroundColor="white",t.style.boxShadow="0 2px 5px 1px lightgrey",t.addEventListener("click",e),t}};const n=(e=[],t)=>{switch(t.type){case"ADD_TODO":return e.concat([t.todo]);case"REMOVE_TODO":return e.filter(e=>e.id!=t.id);case"TOGGLE_TODO":return e.map(e=>e.id==t.id?(e.completed=!e.completed,console.log("reducer trigerred"),e):e);default:return e}},c=(e=[],t)=>{switch(t.type){case"ADD_GOAL":return[...e,t.goal];case"REMOVE_GOAL":return e.filter(e=>e.id!=t.id);case"TOGGLE_GOAL":return e.map(e=>e.id==t.id?{...e,completed:!e.completed}:e);default:return e}},d=(e=>{let t,o=[];return{getState:()=>t,subscribe:e=>(o.push(e),()=>{o=o.filter(t=>t==e)}),dispatch:r=>{t=e(t,r),o.forEach(e=>e())}}})((e={},t)=>({goals:c(e.goals,t),todos:n(e.todos,t)}));d.subscribe(()=>console.log("State got updated"));d.subscribe(()=>console.log("New State is:",d.getState()));const i=e=>({type:"ADD_TODO",todo:e}),l=e=>({type:"ADD_GOAL",goal:e});d.dispatch(l({description:"Joa muss",id:"1234wtrsfdjhknw",completed:!1})),d.dispatch(i({id:"sdwe7868e",description:"Muell rausbringen",completed:!1}));const a=()=>{(()=>{const e=document.querySelector("#todolist"),t=d.getState().todos.map(e=>{let t=document.createElement("li"),o=document.createTextNode(e.description);t.appendChild(o);let n=r.createRemoveButton(()=>d.dispatch({type:"REMOVE_TODO",id:e.id}));return t.appendChild(n),t.style.cursor="pointer",t.style.textDecoration=e.completed?"line-through":"",t.addEventListener("click",()=>{d.dispatch({type:"TOGGLE_TODO",id:e.id}),console.log("clicked")}),t});e.textContent="",t.forEach(t=>e.append(t))})(),(()=>{const e=document.querySelector("#goallist"),t=d.getState().goals.map(e=>{let t=document.createElement("li"),o=document.createTextNode(e.description);return t.appendChild(o),t.appendChild(r.createRemoveButton(()=>d.dispatch({type:"REMOVE_GOAL",id:e.id}))),t.style.cursor="pointer",t.style.textDecoration=e.completed?"line-through":"",t.addEventListener("click",()=>d.dispatch({type:"TOGGLE_GOAL",id:e.id})),t});e.textContent="",t.forEach(t=>e.append(t))})()};d.subscribe(()=>a()),document.querySelector("#goalbutton").addEventListener("click",()=>(()=>{console.log("clicked");let e=document.querySelector("#goal");d.dispatch(l({description:e.value,completed:!1,id:r.generateId()})),e.value=""})()),document.querySelector("#todobutton").addEventListener("click",()=>(()=>{console.log("clicked");let e=document.querySelector("#todo");d.dispatch(i({description:e.value,completed:!1,id:r.generateId()})),e.value=""})())}]);